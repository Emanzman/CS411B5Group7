{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sethk\\\\Desktop\\\\CS411B5Group7\\\\ChatGPTInsta\\\\src\\\\pages\\\\components\\\\UserInput.js\";\nimport React from 'react';\nimport './UserInput.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass UserInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userTopic: null,\n      userLink: null,\n      userHashtags: null\n    };\n    this.handleImageChange = this.handleImageChange.bind(this);\n  }\n  topicInput(input) {\n    this.setState({\n      userTopic: input.target.value\n    });\n  }\n  captionInput(input) {\n    this.setState({\n      userLink: input.target.value\n    });\n  }\n  hashtagInput(input) {\n    this.setState({\n      userHashtags: input.target.value\n    });\n  }\n  handleImageChange(event) {\n    const selectedImage = event.target.files[0];\n    if (selectedImage) {\n      const imageUrl = URL.createObjectURL(selectedImage);\n      this.props.setImage(imageUrl);\n    }\n  }\n\n  // This function listens to the same port that Flask is running on to get the JSON information from OpenAI API as soon as the user clicks the generate button\n  async generateButton() {\n    try {\n      const response = await fetch('http://localhost:5000/generate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          topic: this.state.userTopic,\n          userHashtags: this.state.userHashtags,\n          userLink: this.state.userLink\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        this.props.setCaption(data.title); // This is the title generated by the OpenAI API\n\n        // Combine user-provided hashtags with the ones generated by the OpenAI API\n        if (this.state.userHashtags !== null) {\n          const combinedHashtags = `${this.state.userHashtags} ${data.hashtags}`;\n          this.props.setTags(combinedHashtags);\n        } else this.props.setTags(data.hashtags); // Combined hashtags\n      } else {\n        console.error(\"Error generating because: \", response.status);\n      }\n    } catch (error) {\n      console.error(\"ERROR: \", error);\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed-banner\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: input => {\n          this.topicInput(input);\n        },\n        type: \"text\",\n        placeholder: \"Type your post topic or description: (a boat on the coast) ...\",\n        className: \"input-style\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: input => {\n          this.captionInput(input);\n        },\n        type: \"text\",\n        placeholder: \"(Optional) Enter the link to a previous Instagram Post...\",\n        className: \"optional-style\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: input => {\n          this.hashtagInput(input);\n        },\n        type: \"text\",\n        placeholder: \"Type guaranteed hashtags...\",\n        className: \"shortInput-style\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        class: \"upload-button\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          onChange: this.handleImageChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this), \" Upload\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), this.props.userHashtags, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.generateButton();\n          this.props.setCaption(this.state.userTopic);\n          this.props.setTags(this.state.confinedUserHashtags);\n        },\n        className: \"generate-button\",\n        children: \"Generate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this);\n  }\n}\nexport default UserInput;","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","UserInput","Component","constructor","props","state","userTopic","userLink","userHashtags","handleImageChange","bind","topicInput","input","setState","target","value","captionInput","hashtagInput","event","selectedImage","files","imageUrl","URL","createObjectURL","setImage","generateButton","response","fetch","method","headers","body","JSON","stringify","topic","ok","data","json","setCaption","title","combinedHashtags","hashtags","setTags","console","error","status","render","className","children","onChange","type","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","class","accept","onClick","confinedUserHashtags"],"sources":["C:/Users/sethk/Desktop/CS411B5Group7/ChatGPTInsta/src/pages/components/UserInput.js"],"sourcesContent":["import React from 'react';\r\nimport './UserInput.css'\r\n\r\nclass UserInput extends React.Component \r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n            userTopic : null,\r\n            userLink : null,\r\n            userHashtags : null,\r\n        }\r\n        this.handleImageChange = this.handleImageChange.bind(this);\r\n    }    \r\n    topicInput(input){\r\n        this.setState({userTopic : input.target.value})\r\n    }\r\n\r\n    captionInput(input){\r\n        this.setState({userLink : input.target.value})\r\n    }\r\n\r\n    hashtagInput(input){\r\n        this.setState({userHashtags : input.target.value})\r\n    }\r\n\r\n    handleImageChange(event) \r\n    {\r\n        const selectedImage = event.target.files[0];\r\n\r\n        if(selectedImage)\r\n        {\r\n            const imageUrl = URL.createObjectURL(selectedImage);\r\n            this.props.setImage(imageUrl);\r\n        }\r\n    }\r\n\r\n    // This function listens to the same port that Flask is running on to get the JSON information from OpenAI API as soon as the user clicks the generate button\r\n    async generateButton()\r\n    {\r\n        try \r\n        {\r\n            const response = await fetch('http://localhost:5000/generate', \r\n            {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    topic: this.state.userTopic,\r\n                    userHashtags: this.state.userHashtags,\r\n                    userLink: this.state.userLink\r\n                })\r\n            });\r\n            if(response.ok) \r\n            {\r\n                const data = await response.json();\r\n                this.props.setCaption(data.title); // This is the title generated by the OpenAI API\r\n\r\n                // Combine user-provided hashtags with the ones generated by the OpenAI API\r\n                if(this.state.userHashtags !== null)\r\n                {\r\n                    const combinedHashtags = `${this.state.userHashtags} ${data.hashtags}`;\r\n                    this.props.setTags(combinedHashtags);\r\n                }\r\n                else\r\n                    this.props.setTags(data.hashtags); // Combined hashtags\r\n            } \r\n            else \r\n            {\r\n                console.error(\"Error generating because: \", response.status); \r\n            }\r\n        } catch (error) \r\n        {\r\n            console.error(\"ERROR: \", error);\r\n        }\r\n    }\r\n      \r\n    render(){\r\n        return(\r\n        <div className=\"fixed-banner\">\r\n            <input onChange={(input)=>{this.topicInput(input)}} type=\"text\" placeholder=\"Type your post topic or description: (a boat on the coast) ...\" className=\"input-style\"/>\r\n            <input onChange={(input)=>{this.captionInput(input)}} type=\"text\" placeholder=\"(Optional) Enter the link to a previous Instagram Post...\" className=\"optional-style\"/>\r\n            <input onChange={(input)=>{this.hashtagInput(input)}} type=\"text\" placeholder=\"Type guaranteed hashtags...\" className=\"shortInput-style\"/> \r\n\r\n            <label class=\"upload-button\">\r\n                <input type=\"file\" accept=\"image/*\" onChange={this.handleImageChange}/> Upload\r\n            </label>\r\n\r\n            {this.props.userHashtags}\r\n            <button onClick={()=>{\r\n                this.generateButton(); \r\n                this.props.setCaption(this.state.userTopic);\r\n                this.props.setTags(this.state.confinedUserHashtags);\r\n            }} className=\"generate-button\">Generate</button>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserInput;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}